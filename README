This project creates development toolchain for supported platforms.
Toolchain consists of:
- compiler
- binutils
- c library (newlib)
- debugger
- make

Toolchain components will be cloned from company repositories (by themselves
forks of open source projects). Note that component repositories all have branch
named 'chipcraft-master', which contains any necessary patches.

Supported platorms:
- Linux
- Windows

The main work is done by crosstool-ng (https://crosstool-ng.github.io/).
The tool is cloned from company repository (by itself fork of open source
project). Some patches were applied to ensure the tools works with our custom
repos. Note that those patches are held in branch named 'chipcraft-master'.

Repositories are downloaded using git over ssh. Configuration examples, setting
the necessary ssh alias can be viewed in resources/misc/ directory.


Build system uses autotools, steps to build:
./bootstrap
./configure
make



Note that you can disable specific platforms at configuration step and build
only specific platforms at make step:
./configure --disable-linux-toolchain
will shut off rules for building toolchain for Linux hosts
./configure --disable-windows-toolchain
will do the same for Windows hosts.
After configuration is done you can invoke make like:
make linux
to only build Linux toolchain and
make windows
to only build Windwos toolchain.

Build flow:

     |
     |             +--------------------------------------------------------------+
     |             |                    toolchain components                      |
     |             +--------------------------------------------------------------+
     |             |                                                              |
     |             | +---------------+ +-------------------+ +------------------+ |
     |             | |               | |                   | |                  | |
     |          +--> | MIPS GCC repo | | MIPS bintuils+gdb | | MIPS newlib repo | |
     |          |  | |               | |       repo        | |                  | |
     |          |  | +------+--------+ +---------+---------+ +----------+-------+ |
     |          |  |        |                    |                      |         |
     |          |  +--------------------------------------------------------------+
     |          |           |---------------------------------------------------------+
     |          |  +--------------------------------------------------------------+   |
     |          |  |                  3rd party build tools                       |   |
     |          |  +--------------------------------------------------------------+   |
     |          |  |               +-------------------------------+              |   |
     |          |  |               |                               |              |   |
     |          +---->             |  crosstool-ng + patches repo  |              |   |
     |          |  |               |                               |              |   |
     |          |  |               +-------------------------------+              |   |
     |          |  +--------------------------------------------------------------+   |
+----v--------+ |       +-----------+              |                                  |
|             | |       |  srcdir   |              +---------------------------------->
|  bootstrap  | |       | templates | sed                                             |
|             | |       |           --------------------------+                       |
+------+------+ |       +-----------+                         |                       |
       |        |   +-----------------------------------------|-------+               |
       |        |   |                                         |       |               |
 +-----v-----+  |   |           builddir / user location      |       |   git clone   |
 |           |  |   | +--------------------------------+      |       |               |
 | configure +--+   | |                             <---------|-----------------------+
 |           |      | |  +---------+  +-------------+  |      |       |
 +-----+-----+      | |  |         |  |             |  | +----v-----+ |
       |            | |  |  tools  |  | components  |  | |          | |
       |            | |  |         |  |             |  | |  config  | |
       |            | |  |         |  |             |  | |  files   | |
       |            | |  |         |  |             |  | |          | |
       |            | |  |  ^  +   |  |             |  | |          | |
       |            | |  +---------+  +-------------+  | |          | |
       |            | |     |  |                       | +-------+--+ |
       |            | +-----|--|-----------------------+         |    |
       |            +-------|--|---------------------------------|----+
       |                    |  |                                 |
 +-----------+              |  |                                 |
 |     v     |  call        |  |                                 |
 |    make   +--------------+  |         +------------------+    |
 |           |                 |         |    localroot     |    |
 +-----------+                 |         +------------------+    |
                               |  build  |                  |    |
                               +---------->  crosstool-ng   |    |
                               if needed |        +         |    |
                                         +------------------+    |
                                                  |              |
                                 +----------------------------+  |
                                 | +--------------v---------+ |  |
                                 | | outputroot: toolchains | <--+
                                 | +------------------------+ |
                                 +----------------------------+


Cloned repositiories use ssh config alias 'chipcraft-git'. Users should set
this alias in their .ssh/config file.
Currently the it repositories are held locally on krzem. For cloning to work,
the following has to be done:
1. create a link to /home/mjemieli/REPOSITORIES in your home directory
2. add entry to .ssh/config:

Host chipcraft-git
  User <your username>
  HostName 31.0.204.239

When we set up proper git repository, available to many developers, this README
will be updated with correct address.

